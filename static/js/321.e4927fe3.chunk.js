"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[321],{949:function(e,t,r){var n=r(7630),a=r(4741),i=(0,n.ZP)(a.Z)({"& label.Mui-focused":{color:"black"},"& label.Mui-error":{color:"red"},"& input:valid + fieldset":{borderColor:"grey",borderWidth:1},"& input:invalid + fieldset":{borderColor:"red",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"black",borderLeftWidth:6,padding:"4px !important"},"& div.Mui-error.Mui-focused fieldset":{borderColor:"red",borderLeftWidth:6,padding:"4px !important"}});t.Z=i},1399:function(e,t,r){r.d(t,{Z:function(){return l}});var n="MovieArticle_title__hAt2X",a="MovieArticle_info__V1Hcf",i=r(3329);function l(e){var t=e.title,r=e.content;return(0,i.jsx)(i.Fragment,{children:r&&(0,i.jsxs)("article",{children:[(0,i.jsx)("h3",{className:n,children:t}),(0,i.jsx)("p",{className:a,children:r})]})})}},4475:function(e,t,r){r.d(t,{Z:function(){return i}});var n="Title_title__znxtH",a=r(3329);function i(e){var t=e.text;return(0,a.jsx)("h2",{className:n,children:t})}},1321:function(e,t,r){r.r(t),r.d(t,{default:function(){return M}});var n=r(1413),a=r(885),i=r(3044),l=r(4520),o=r(9434),s="ProfilePage_wrapper__31QOm",c="ProfilePage_form__Y-bB-",d="ProfilePage_input__tyzjq",u="ProfilePage_edit__btn__QiNfp",m="ProfilePage_avatar__iqxQ-",f="ProfilePage_info__yUNFD",p="ProfilePage_preview__8sBzo",h="ProfilePage_btn__wrapper__tUchI",_=r(2208),v=r(4819),x=r.n(v),j=r(949),b=r(1134),g=r(2015),Z=r(9549),P=r(4475),y=r(1286),N=r(1399),w=r(5527),C=r(3367),S=r(2791),k=r(5892),L=r(3329),U=x().object({name:x().string().alphanum().min(3).max(30).required(),image:x().any()}).required();function M(){var e=(0,o.v9)(g.w.PR),t=(0,o.v9)(g.w.nZ),r=(0,o.v9)(Z.w.EU),v=(0,o.I0)(),x=(0,b.cI)({defaultValues:{name:e.name,image:null},resolver:(0,_.L)(U)}),M=x.handleSubmit,z=x.control,I=x.reset,W=x.formState.errors,E=x.register,F=x.watch,R=(0,S.useState)(null),q=(0,a.Z)(R,2),A=q[0],Q=q[1],O=(0,S.useState)(null),T=(0,a.Z)(O,2),V=T[0],B=T[1],D=(0,S.useState)(!0),H=(0,a.Z)(D,2),Y=H[0],J=H[1],X=F("image"),G=F("name");(0,S.useEffect)((function(){G!==e.name||null!==X?(J(!1),X&&Q(X[0])):J(!0)}),[X,G,e.name]),(0,S.useEffect)((function(){if(A){var e=URL.createObjectURL(A);return B(e),function(){return URL.revokeObjectURL(e)}}}),[A]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(P.Z,{text:"Your Profile"}),(0,L.jsxs)("div",{className:s,children:[(0,L.jsxs)("form",{onSubmit:M((function(t){t.name===e.name&&null===t.image||v(g.J.updateCurrentUser(t))})),className:c,children:[V&&(0,L.jsx)("p",{className:p,children:"Image preview"}),(0,L.jsx)(i.Z,{alt:e.name,src:V||e.photo,className:m}),(0,L.jsxs)(l.S,{startIcon:(0,L.jsx)(y.Z,{}),variant:"outlined",component:"label",className:u,children:["Edit",(0,L.jsx)("input",(0,n.Z)((0,n.Z)({},E("image")),{},{name:"image",hidden:!0,accept:"image/*",type:"file"}))]}),(0,L.jsx)(b.Qr,{name:"name",control:z,render:function(e){var t,r=e.field;return(0,L.jsx)(j.Z,(0,n.Z)((0,n.Z)({},r),{},{label:"Name*",type:"text",size:"small",autoComplete:"off",className:d,error:!!W.name,helperText:null===W||void 0===W||null===(t=W.name)||void 0===t?void 0:t.message}))}}),(0,L.jsxs)("div",{className:h,children:[(0,L.jsx)(k.Z,{btn:"Discard",disabled:Y,title:"Are you sure?",text:"Changes you made may not be saved.",agreeFn:function(){B(null),I()}}),t?(0,L.jsx)(l.r,{variant:"outlined",startIcon:(0,L.jsx)(C.iT,{height:9,width:10,color:"#000",wrapperStyle:{display:"flex",justifyContent:"center"},secondaryColor:"#f0",strokeWidth:8,strokeWidthSecondary:8})}):(0,L.jsx)(l.S,{disabled:Y,variant:"contained",type:"submit",children:"Save"})]})]}),(0,L.jsxs)(w.Z,{className:f,children:[(0,L.jsx)(N.Z,{title:"User name",content:e.name}),(0,L.jsx)(N.Z,{title:"Public e-mail",content:e.email}),r.length>0&&(0,L.jsxs)("p",{children:["Favorite movies: ",r.length]})]})]})]})}},1286:function(e,t,r){var n=r(4836);t.Z=void 0;var a=n(r(5649)),i=r(3329),l=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=l}}]);
//# sourceMappingURL=321.e4927fe3.chunk.js.map