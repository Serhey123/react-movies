"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[321],{949:function(e,r,t){var n=t(7630),a=t(4741),i=(0,n.ZP)(a.Z)({"& label.Mui-focused":{color:"black"},"& label.Mui-error":{color:"red"},"& input:valid + fieldset":{borderColor:"grey",borderWidth:1},"& input:invalid + fieldset":{borderColor:"red",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"black",borderLeftWidth:6,padding:"4px !important"},"& div.Mui-error.Mui-focused fieldset":{borderColor:"red",borderLeftWidth:6,padding:"4px !important"}});r.Z=i},1399:function(e,r,t){t.d(r,{Z:function(){return l}});var n="MovieArticle_title__hAt2X",a="MovieArticle_info__V1Hcf",i=t(3329);function l(e){var r=e.title,t=e.content;return(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsxs)("article",{children:[(0,i.jsx)("h3",{className:n,children:r}),(0,i.jsx)("p",{className:a,children:t})]})})}},4475:function(e,r,t){t.d(r,{Z:function(){return i}});var n="Title_title__znxtH",a=t(3329);function i(e){var r=e.text;return(0,a.jsx)("h2",{className:n,children:r})}},1321:function(e,r,t){t.r(r),t.d(r,{default:function(){return M}});var n=t(1413),a=t(885),i=t(3044),l=t(2169),o=t(9434),s="ProfilePage_wrapper__31QOm",c="ProfilePage_form__Y-bB-",d="ProfilePage_input__tyzjq",u="ProfilePage_edit__btn__QiNfp",m="ProfilePage_avatar__iqxQ-",f="ProfilePage_info__yUNFD",p="ProfilePage_preview__8sBzo",_="ProfilePage_btn__wrapper__tUchI",v=t(2208),h=t(4819),x=t.n(h),b=t(949),g=t(1134),j=t(2015),Z=t(9549),P=t(4475),N=t(1286),y=t(1399),w=t(5527),C=t(2791),L=t(5892),S=t(3329),U=x().object({name:x().string().alphanum().min(3).max(30).required(),image:x().any()}).required();function M(){var e=(0,o.v9)(j.w.PR),r=(0,o.v9)(j.w.nZ),t=(0,o.v9)(Z.w.EU),h=(0,o.I0)(),x=(0,g.cI)({defaultValues:{name:e.name,image:null},resolver:(0,v.L)(U)}),M=x.handleSubmit,k=x.control,z=x.reset,E=x.formState.errors,F=x.register,I=x.watch,R=(0,C.useState)(null),q=(0,a.Z)(R,2),A=q[0],Q=q[1],W=(0,C.useState)(null),O=(0,a.Z)(W,2),V=O[0],B=O[1],D=(0,C.useState)(!0),H=(0,a.Z)(D,2),T=H[0],Y=H[1],J=I("image"),X=I("name");(0,C.useEffect)((function(){X!==e.name||null!==J?(Y(!1),J&&Q(J[0])):Y(!0)}),[J,X,e.name]),(0,C.useEffect)((function(){if(A){var e=URL.createObjectURL(A);return B(e),function(){return URL.revokeObjectURL(e)}}}),[A]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(P.Z,{text:"Your Profile"}),(0,S.jsxs)("div",{className:s,children:[(0,S.jsxs)("form",{onSubmit:M((function(r){r.name===e.name&&null===r.image||h(j.J.updateCurrentUser(r))})),className:c,children:[V&&(0,S.jsx)("p",{className:p,children:"Image preview"}),(0,S.jsx)(i.Z,{alt:e.name,src:V||e.photo,className:m}),(0,S.jsxs)(l.S,{startIcon:(0,S.jsx)(N.Z,{}),variant:"outlined",component:"label",className:u,children:["Edit",(0,S.jsx)("input",(0,n.Z)((0,n.Z)({},F("image")),{},{name:"image",hidden:!0,accept:"image/*",type:"file"}))]}),(0,S.jsx)(g.Qr,{name:"name",control:k,render:function(e){var r,t=e.field;return(0,S.jsx)(b.Z,(0,n.Z)((0,n.Z)({},t),{},{label:"Name*",type:"text",size:"small",autoComplete:"off",className:d,error:!!E.name,helperText:null===E||void 0===E||null===(r=E.name)||void 0===r?void 0:r.message}))}}),(0,S.jsxs)("div",{className:_,children:[(0,S.jsx)(L.Z,{btn:"Discard",disabled:T,title:"Are you sure?",text:"Changes you made may not be saved.",agreeFn:function(){B(null),z()}}),(0,S.jsx)(l.S,{disabled:T,variant:"contained",type:"submit",loading:r,children:"Save"})]})]}),(0,S.jsxs)(w.Z,{className:f,children:[(0,S.jsx)(y.Z,{title:"User name",content:e.name}),(0,S.jsx)(y.Z,{title:"Public e-mail",content:e.email}),t.length>0&&(0,S.jsxs)("p",{children:["Favorite movies: ",t.length]})]})]})]})}},1286:function(e,r,t){var n=t(4836);r.Z=void 0;var a=n(t(5649)),i=t(3329),l=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=l}}]);
//# sourceMappingURL=321.213658ee.chunk.js.map