{"version":3,"file":"static/js/156.b0f2ed92.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/MoviesItems/MoviesItems.module.css?17a0","components/MoviesItems/MoviesItems.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://my-app/./src/components/MoviesPage/MoviesPage.module.css?564c","components/MoviesPage/Searchbar.js","components/MoviesPage/MoviesPage.js","services/fetchService.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesItems_list__cAG1C\",\"list__item\":\"MoviesItems_list__item__a2zyg\",\"overlay\":\"MoviesItems_overlay__mEXg+\",\"list__item_title\":\"MoviesItems_list__item_title__9Andv\",\"img\":\"MoviesItems_img__fNscv\"};","import styles from './MoviesItems.module.css';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function MoviesItems({ movies }) {\r\n  return (\r\n    <>\r\n      {movies && (\r\n        <ul className={styles.list}>\r\n          {movies.map(movie => (\r\n            <li key={movie.id} className={styles.list__item}>\r\n              <Link to={`/movies/${movie.id}`}>\r\n                <img\r\n                  className={styles.img}\r\n                  src={\r\n                    movie.poster_path\r\n                      ? `https://image.tmdb.org/t/p/w300${movie.poster_path}`\r\n                      : 'https://www.chanchao.com.tw/images/default.jpg'\r\n                  }\r\n                />\r\n                <div className={styles.overlay}>\r\n                  <p className={styles.list__item_title}>\r\n                    {movie.title || movie.name}\r\n                  </p>\r\n                </div>\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__5tCdO\",\"input\":\"MoviesPage_input__3vbXa\",\"button\":\"MoviesPage_button__2DdR7\"};","import styles from './MoviesPage.module.css';\r\nimport { useState } from 'react';\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      return;\r\n    }\r\n\r\n    onSubmit(query);\r\n\r\n    setQuery('');\r\n  };\r\n  return (\r\n    <form onSubmit={submitHandler} className={styles.form}>\r\n      <input\r\n        className={styles.input}\r\n        value={query}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search movies\"\r\n        onChange={e => setQuery(e.currentTarget.value.toLowerCase())}\r\n      />\r\n      <button type=\"submit\" className={styles.button}></button>\r\n    </form>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { fetchMovie } from '../../services/fetchService';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport { RotatingLines } from 'react-loader-spinner';\r\n\r\nimport MoviesItems from '../MoviesItems/MoviesItems';\r\nimport Searchbar from './Searchbar';\r\n\r\nexport default function MoviesPage() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [movies, setMovies] = useState(null);\r\n  const [status, setStatus] = useState('idle');\r\n\r\n  const query = new URLSearchParams(location.search).get('query');\r\n\r\n  const onSubmit = q => {\r\n    history.push({ ...location, search: `query=${q}` });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!query) {\r\n      return;\r\n    }\r\n    setStatus('pending');\r\n    fetchMovie(query).then(res => {\r\n      if (res.results.length === 0) {\r\n        setStatus('error');\r\n        return;\r\n      }\r\n      setStatus('resolved');\r\n      setMovies(res.results);\r\n    });\r\n  }, [query]);\r\n\r\n  console.log(movies);\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={onSubmit} />\r\n      {status === 'resolved' && <MoviesItems movies={movies} />}\r\n      {status === 'pending' && (\r\n        <RotatingLines\r\n          strokeColor=\"grey\"\r\n          strokeWidth=\"5\"\r\n          animationDuration=\"0.75\"\r\n          width=\"50\"\r\n          visible={true}\r\n        />\r\n      )}\r\n      {status === 'error' && <p>Sorry, nothing found :(</p>}\r\n    </>\r\n  );\r\n}\r\n","const KEY = 'b8e8b8dadac797da0595c7d7e1af61f4';\r\n\r\nexport function fetchTrending() {\r\n  return fetch(`\r\n  https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`).then(res =>\r\n    res.json(),\r\n  );\r\n}\r\n\r\nexport function fetchMovie(query) {\r\n  return fetch(`\r\n  https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${query}`).then(\r\n    res => res.json(),\r\n  );\r\n}\r\n\r\nexport function fetchMovieById(id) {\r\n  return fetch(`\r\n    https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}`).then(res =>\r\n    res.json(),\r\n  );\r\n}\r\n\r\nexport function fetchMovieCast(id) {\r\n  return fetch(`\r\n    https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`).then(\r\n    res => res.json(),\r\n  );\r\n}\r\n\r\nexport function fetchMovieReview(id) {\r\n  return fetch(`\r\n  https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}`).then(res =>\r\n    res.json(),\r\n  );\r\n}\r\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["MoviesItems","movies","className","styles","map","movie","to","id","src","poster_path","title","name","_defineProperty","obj","key","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","onSubmit","useState","query","setQuery","e","preventDefault","trim","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","MoviesPage","history","useHistory","location","useLocation","setMovies","status","setStatus","URLSearchParams","search","get","useEffect","fetchMovie","then","res","results","console","log","q","strokeColor","strokeWidth","animationDuration","width","visible","KEY","fetchTrending","fetch","json","fetchMovieById","fetchMovieCast","fetchMovieReview","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","call","next","done","err","o","minLen","n","prototype","toString","slice","constructor","from","test","TypeError"],"sourceRoot":""}