"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[680],{680:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(152),i=n(880),a=n(791),o=n(691),s=n(91),c="MovieDetailsPage_section__toDj4",l="MovieDetailsPage_wrapper__WwnFP",u="MovieDetailsPage_name__k+qV8",h="MovieDetailsPage_title__kIwho",d="MovieDetailsPage_info__N9L8k",f="MovieDetailsPage_links__I-6zz",m="MovieDetailsPage_link__ywWAm",v="MovieDetailsPage_list__item__bP8H8",p="MovieDetailsPage_button__vf1yB",_=n(523),j=n(184);function g(e){var t=e.movie,n=e.movieId,r=(0,i.k6)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{type:"button",onClick:r.goBack,className:p,children:"Go Back"}),(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):"https://www.chanchao.com.tw/images/default.jpg"})}),(0,j.jsxs)("div",{className:l,children:[(0,j.jsxs)("h1",{className:u,children:[t.title," (",t.release_date&&t.release_date.slice(0,4),")"]}),(0,j.jsx)("h3",{className:h,children:"Overview"}),(0,j.jsx)("p",{className:d,children:t.overview}),(0,j.jsxs)("h4",{className:h,children:["Release date: ",t.release_date]}),0!==t.genres.length&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:h,children:"Genres"}),(0,j.jsx)("ul",{children:t.genres.map((function(e){return(0,j.jsx)("li",{className:v,children:e.name},e.id)}))})]}),0!==t.production_countries.length&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:h,children:"Countries"}),(0,j.jsx)("ul",{children:t.production_countries.map((function(e){return(0,j.jsx)("li",{className:v,children:e.name},e.iso_3166_1)}))})]}),t.tagline&&(0,j.jsxs)("h2",{children:['"',t.tagline,'"']})]})]}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(_.rU,{className:m,to:"/movies/".concat(n,"/cast"),children:"Cast"}),(0,j.jsx)(_.rU,{className:m,to:"/movies/".concat(n,"/reviews"),children:"Reviews"})]})]})}var x=(0,a.lazy)((function(){return n.e(900).then(n.bind(n,900))})),y=(0,a.lazy)((function(){return n.e(457).then(n.bind(n,457))}));function b(){var e=(0,a.useState)(null),t=(0,r.Z)(e,2),n=t[0],c=t[1],l=(0,a.useState)("idle"),u=(0,r.Z)(l,2),h=u[0],d=u[1],f=(0,i.UO)().movieId;return console.log(n),(0,a.useEffect)((function(){d("pending"),(0,s.Mc)(f).then((function(e){e.status_code?d("error"):(c(e),d("resolve"))}))}),[f]),(0,j.jsxs)(j.Fragment,{children:["error"===h&&(0,j.jsx)("p",{children:"Not found!!!"}),"pending"===h&&(0,j.jsx)(o.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),"resolve"===h&&(0,j.jsx)(g,{movie:n,movieId:f}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(o.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),children:(0,j.jsxs)(i.rs,{children:[(0,j.jsx)(i.AW,{path:"/movies/:movieId/cast",children:(0,j.jsx)(x,{id:f})}),(0,j.jsx)(i.AW,{path:"/movies/:movieId/reviews",children:(0,j.jsx)(y,{id:f})})]})})]})}},91:function(e,t,n){n.d(t,{Mc:function(){return o},Ny:function(){return a},Tg:function(){return i},r7:function(){return c},uV:function(){return s}});var r="b8e8b8dadac797da0595c7d7e1af61f4";function i(){return fetch("\n  https://api.themoviedb.org/3/trending/all/day?api_key=".concat(r)).then((function(e){return e.json()}))}function a(e){return fetch("\n  https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(e)).then((function(e){return e.json()}))}function o(e){return fetch("\n    https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(r)).then((function(e){return e.json()}))}function s(e){return fetch("\n    https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.json()}))}function c(e){return fetch("\n  https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.json()}))}},152:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=680.2c9152fc.chunk.js.map